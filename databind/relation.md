# 关联关系

通过业务对象中的介绍，了解到关联关系起着维护客户系统ID与3D系统ID之间映射关系的作用。

仅仅是两个ID之间的映射那会比较简单。在业务对象属性中有举例，在展示温度云图的时候，温度云图中包含的每个点，都需要客户推送的温度值”。业务对象属性解决了“客户推送的业务对象，有哪些属性，哪个属性是温度？”的问题。那么关联关系就要解决“温度云图上的温度点要显示哪个业务对象的哪个属性的问题？”的问题。因此关联关系不仅仅维护ID之间的关系，还涉及到ID对应的属性。


关联关系的一条记录中包含3D系统的ID，客户系统的ID，属性。对应的列：

* id：3D系统的ID
* relations：客户系统的ID，属性。结构为{bid:"",property:""},bid对应客户系统的ID，由于客户系统的ID在业务对象中定义，因此这里用bid表示。3D系统的ID与客户系统的ID的关系可以是一对多的关系，所以relations的值可以是个数组。
	relations多种数据结构解释：
	1. {bid:"A",property:"a1"},关联A下面的a1属性
	2. {bid:"A",property:["a1","a1"]},关联A下面的a1、a2属性
	3. {bid:"A"},关联A下面的所有属性
	4. [{bid:"A",property:"a1"},{bid:"B",property:"b1"}],关联A下面的a1属性和B下面的b1
	5. 如果是数组累计关联每个元素中内容，规则符合1、2、3
	6. ""，空字符串，管理bid为id的所有属性，此情况可以不存在业务对象和业务对象属性


关联关系管理，关联关系指的是传感器与业务模型之间的关系，由于服务端是根据业务对象来缓存和推送数据的，所以当前端接收到数据后，再根据关联关系中的模型数据ID找到前端模型，赋值并做处理


关联关系单据管理包含字段：

* id：传感器编号
* relations：表述关联关系，JSON格式，具体格式为
	
		[
			{
				bid:"业务对象ID", 
				property:"业务对象属性", 
			},
			...
		]


