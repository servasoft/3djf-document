# 数据绑定

在数据绑定时候，两个使用场景介绍
>在看下面的使用场景之前，先明白业务对象、业务对象属性、关联关系三个模块的作用，以及它们之间的关系

###场景一

简介: 客户推送自己的ID，推送ID为"TH001"监控对象的属性值，此监控对象包含两个属性，"温度"、"湿度"

数据使用方法: 将温湿度的值分别赋值给对应的采集器，由采集器负责显示

3D系统为了能接收数据并使用数据，需要做的设置:

1、在业务对象属性模块中添加类型为"TH",属性分别为"温度"、"湿度"的两条记录。类型"TH"是自定义出来，而"温度"、"湿度"来源于监控对象包含的属性

2、在业务对象模块添加记录，ID为"TH001"，类型为"TH"。类型"TH"来源于业务对象属性模块，ID"TH001"来源于客户推送的ID

3、在采集器模块，添加两个采集器"t001"和"h001"，"t001"负责消费温度数据、"h001"负责消费湿度数据

4、在关联关系模块添加数据

	id  | relations
	----|-------------
	t001 | {bid:"TH001",property:"温度"}
	h001 | {bid:"TH001",property:"湿度"}
	

###场景二
简介: 客户推送3D系统中的ID，推送ID为“S0E01”监控对象的属性值，此监控对象包含多个属性，"运行状态"、"A相电压"、"B相电压"、"C相电压"等

数据使用方法: 所有值以key-value方式展示

由于直接展示所有属性，属性消费者不需要知道有什么属性。客户直接推送的是3D系统中的ID，不需要转换。那么3D系统为了能接收数据并使用数据，需要做的设置只有一部:
1、在关联关系模块添加数据

	id  | relations
	----|-------------
	S0E01 | ”“
	
在关联关系中有解释这种设置如何映射。大家可能有疑问，既然不需要知道有什么属性，也不需要ID映射，为什么还需要在关联关系中添加一条记录？这由订阅逻辑决定的，在订阅逻辑中依据是否有relation来判断是否有推送的数据。或许这里可以优化相关逻辑，连这一步配置都省略。


###总结
从以上的两个场景可以看出，如何做数据绑定，主要看两个方面：
1、客户推送的ID是否需要转换
2、3D系统是否要展示特定的属性

* 两者都需要：配置业务对象及属性，在relation中绑定bid和属性
* 仅需要前者：不需要配置业务对象及属性，在relation中仅绑定bid
* 仅需要后者：配置业务对象及属性，在relation中绑定bid和属性
* 两者都不需要：不需要配置业务对象及属性，在relation中不绑定任何东西